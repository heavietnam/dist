import{_ as e,o as t,c as a,a as n}from"./app.60b0c704.js";const r={},o=n(`<h2 id="xac-\u0111inh-phan-can-sua" tabindex="-1"><a class="header-anchor" href="#xac-\u0111inh-phan-can-sua" aria-hidden="true">#</a> <strong>X\xE1c \u0111\u1ECBnh ph\u1EA7n c\u1EA7n</strong>\xA0s\u1EEDa</h2><p>B1: Nh\u1EADp code sau v\xE0o terminal</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pmset -g log | grep -e &quot;Sleep.*due to&quot; -e &quot;Wake.*due to&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>B2: Xem b\u1EA3ng sau \u0111\u1EC3 bi\u1EBFt c\u1EA7n ph\u1EA7n c\u1EA7n fix</p><table><thead><tr><th>Wake [CDNVA] due to GLAN: Using AC</th><th>V\xE0o c\xE0i \u0111\u1EB7t firmware t\u1EAFt m\u1EE5c Wake on LAN \u0111i</th></tr></thead><tbody><tr><td>Wake [CDNVA] due to HDEF: Using AC</td><td>V\xE0o c\xE0i \u0111\u1EB7t firmware t\u1EAFt m\u1EE5c Wake on LAN \u0111i</td></tr><tr><td>Wake [CDNVA] due to XHC: Using AC</td><td>V\xE0o c\xE0i \u0111\u1EB7t firmware t\u1EAFt Wake on USB v\xE0 patch GPRW, xem \u1EDF d\u01B0\u1EDBi</td></tr><tr><td>DarkWake from Normal Sleep [CDNPB] : due to RTC/Maintenance Using AC</td><td>L\u1ED7i n\xE0y th\u01B0\u1EDDng g\u1EB7p do power snaps</td></tr><tr><td>Wake reason: RTC (Alarm)</td><td>L\u1ED7i n\xE0y th\u01B0\u1EDDng do 1 \u1EE9ng d\u1EE5ng, h\xE3y tho\xE1t n\xF3 tr\u01B0\u1EDBc khi b\u1EA1n sleep</td></tr></tbody></table><h3 id="chinh-muc-power-management" tabindex="-1"><a class="header-anchor" href="#chinh-muc-power-management" aria-hidden="true">#</a> Ch\u1EC9nh m\u1EE5c Power Management</h3><p>M\u1EDF Hackintool, v\xE0o tab Power <img src="https://lh5.googleusercontent.com/Ud3dJFNTR_eNGjR3y-Ya-mS4McG8iZX7HTF1wBPl32kUruuvBx3LBf76VkUCcv4auAveok1t9GqJTkVdGo4ryqa-HVZgVOImociGIjgdJwPdCL7C5Q0nU9uuho3v52fbiPEyIZkk=s0"></p><p>+ Nh\u1EA5n v\xE0o d\u1EA5u\xA0<img src="https://lh6.googleusercontent.com/ssk0miuDyfm8Pdy47a5ngMW9M6i1XOzt2J45qVvd9TweppzXHBw72h1Wc2TW5AhPUiTXvnkqMXP6Xvzw24EAMKVoRrx1_N694RNho2P3UIoybeTz7UYeUbH9oDu4nIDrJvdroId-=s0">\xA0\u0111\u1EC3 s\u1EEDa c\xE1c m\u1EE5c trong Power Management th\xE0nh\xA0<code>0</code>, o\u1EB7c d\xF9ng kext\xA0<a href="https://github.com/acidanthera/HibernationFixup/releases" target="_blank" rel="noopener noreferrer">hypernation fixup</a></p><h2 id="fix-gprw-uprw-lanc" tabindex="-1"><a class="header-anchor" href="#fix-gprw-uprw-lanc" aria-hidden="true">#</a> Fix GPRW/UPRW/LANC</h2><h3 id="them-ssdt" tabindex="-1"><a class="header-anchor" href="#them-ssdt" aria-hidden="true">#</a> Th\xEAm SSDT:</h3><p>B1: Dump DSDT theo h\u01B0\u1EDBng d\u1EABn\xA0<a href="https://heavietnam.ga/2021/09/29/xxvi-patch-dsdt-phan-1/" target="_blank" rel="noopener noreferrer">t\u1EA1i \u0111\xE2y</a></p><p>B2: M\u1EDF file DSDT.dsl b\u1EB1ng\xA0<a href="https://github.com/acidanthera/MaciASL/releases" target="_blank" rel="noopener noreferrer">Releases \xB7 acidanthera/MaciASL \xB7 GitHub</a></p><p>B3: Nh\u1EA5n t\u1ED5 h\u1EE3p ph\xEDm Command+F ho\u1EB7c nh\u1EA5n n\xFAt l\u1EC7nh search tr\xEAn menu bar v\xE0 search c\xE1c t\u1EEB kh\xF3a sau</p><p><code>Method (GPRW, 2)</code>\xA0v\xE0\xA0<code>Method (UPRW, 2)</code>\xA0ho\u1EB7c\xA0<em><code>Device (LANC)</code></em></p><p>B4: N\u1EBFu b\u1EA1n t\xECm \u0111\u01B0\u1EE3c t\u1EEB kh\xF3a:</p><ul><li><code>Method (GPRW, 2)</code>\xA0th\xEC h\xE3y t\u1EA3i SSDT n\xE0y v\u1EC1:\xA0<a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/SSDT-GPRW.aml" target="_blank" rel="noopener noreferrer">OpenCore-Post-Install/SSDT-GPRW.aml at master \xB7 dortania/OpenCore-Post-Install \xB7 GitHub</a></li><li><code>Method (UPRW, 2)</code>\xA0th\xEC h\xE3y t\u1EA3i SDTS n\xE0y v\u1EC1:\xA0<a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/SSDT-UPRW.aml" target="_blank" rel="noopener noreferrer">OpenCore-Post-Install/SSDT-UPRW.aml at master \xB7 dortania/OpenCore-Post-Install \xB7 GitHub</a></li><li><em><code>Device (LANC)</code></em>\xA0th\xEC h\xE3y t\u1EA3i SSDT n\xE0y v\u1EC1:\xA0<a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/SSDT-LANC.aml" target="_blank" rel="noopener noreferrer">OpenCore-Post-Install/SSDT-LANC.aml at master \xB7 dortania/OpenCore-Post-Install \xB7 GitHub</a></li></ul><p>B5: Sau khi t\u1EA3i c\xE1c SSDT v\u1EC1, b\u1ECF v\xE0o EFI/OC/ACPI v\xE0 snapshot config.</p><p>B6: Add c\xE1c patch rename sau v\xE0o config/ACPI/Patch:</p><ul><li><a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/GPRW-Patch.plist" target="_blank" rel="noopener noreferrer">OpenCore-Post-Install/GPRW-Patch.plist at master \xB7 dortania/OpenCore-Post-Install \xB7 GitHub</a>\xA0 add patch n\xE0y n\u1EBFu c\xE1c b\u1EA1n t\xECm \u0111\u01B0\u1EE3c t\u1EEB kh\xF3a\xA0<code>Method (GPRW, 2)</code></li><li><a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/UPRW-Patch.plist" target="_blank" rel="noopener noreferrer">OpenCore-Post-Install/UPRW-Patch.plist at master \xB7 dortania/OpenCore-Post-Install \xB7 GitHub</a>\xA0add patch n\xE0y n\u1EBFu c\xE1c b\u1EA1n t\xECm \u0111\u01B0\u1EE3c t\u1EEB kh\xF3a\xA0<code>Method (UPRW, 2)</code></li><li><a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/LANC-Patch.plist" target="_blank" rel="noopener noreferrer">OpenCore-Post-Install/LANC-Patch.plist at master \xB7 dortania/OpenCore-Post-Install \xB7 GitHub</a>\xA0add patch n\xE0y n\u1EBFu c\xE1c b\u1EA1n t\xECm \u0111\u01B0\u1EE3c t\u1EEB kh\xF3a\xA0<code>Device (LANC)</code></li></ul><p>B7: Save config v\xE0 reboot th\xF4i.</p><h3 id="cach-add-patch" tabindex="-1"><a class="header-anchor" href="#cach-add-patch" aria-hidden="true">#</a> <strong>C\xE1ch Add patch</strong></h3><p>B1: V\xE0o trang copy c\xE1c d\xF2ng code</p><p>B2: T\u1EA3i\xA0<a href="https://www.sublimetext.com/" target="_blank" rel="noopener noreferrer">Sublime Text \u2013 Text Editing, Done Right</a>\xA0( th\u01B0\u1EDDng th\xEC sever down kh\xE1 ch\u1EADm n\xEAn c\xE1c b\u1EA1n h\xE3y t\u1EA3i \u1EDF maclife tuy l\xE0 links fshare nh\u01B0ng \xEDt nh\u1EA5t c\u0169ng \u0111c 100-150kb c\xF2n h\u01A1n 56kb \u1EDF trang ch\u1EE7 nh\xE9 links \u0111\xE2y nh\xE9\xA0<a href="https://maclife.vn/sublime-text-4-code-editor-manh-me-tren-mac.html" target="_blank" rel="noopener noreferrer">Sublime Text 4 \u2013 Code Editor m\u1EA1nh m\u1EBD tr\xEAn mac \u2013 MacLife \u2013 Everything for Mac Lovers</a>\xA0)</p><p>B3: M\u1EDF l\xEAn v\xE0 t\u1EA3i c\xE1c g\xF3i m\xE0 n\xF3 y\xEAu c\u1EA7u</p><p>B4: D\xE1n code v\xE0o v\xE0 l\u01B0u file d\u01B0\u1EDBi d\u1EA1ng file xml</p><p>B5: T\u1EA3i app plist edit pro theo links sau\xA0<a href="https://www.fatcatsoftware.com/plisteditpro/" target="_blank" rel="noopener noreferrer">PlistEdit Pro \u2013 Advanced Mac plist and JSON editor (fatcatsoftware.com)</a>, ho\u1EB7c c\xF3 th\u1EC3 m\u1EDF b\u1EB1ng propertree sau khi m\u1EDF l\xEAn c\xE1c b\u1EA1n s\u1EBD \u0111\u01B0\u1EE3c nh\u01B0 h\xECnh:</p><img src="https://lh5.googleusercontent.com/ki-UyieeeckKdzAamtGq_2iRFxI11JOnRSpLiRAHm9o9d5rLSDaTsEkBFT5jNNuP7mwnywRiwevdeh8xNv7S58vouQ3g_95KO6H4eZfe72YtaqhGE2tnKpslFia1WmBDa5dMPwjN=s0"><p>B6: C\xE1c b\u1EA1n add m\u1EE5c v\xE0o\xA0m\u1EE5c <code>root \u21D2 ACPI \u21D2 Patch</code> c\u1EE7a file <code>config.plist\xA0</code></p><p><em><strong>L\u01B0u \xFD \u0111\u1ED1i v\u1EDBi m\xE1y m\xECnh th\xEC ch\u1EC9 c\u1EA7n fix nhi\xEAu \u0111\xE2y th\xEC \u0111\xE3 c\xF3 th\u1EC3 sleep/wake n\u1EBFu c\xE1c b\u1EA1n v\u1EABn ch\u01B0a sleep/wake \u0111\u01B0\u1EE3c th\xEC c\xF3 th\u1EC3 tham kh\u1EA3o links sau</strong></em>\xA0<a href="https://dortania.github.io/OpenCore-Post-Install/universal/sleep.html" target="_blank" rel="noopener noreferrer"><em><strong>Fixing Sleep | OpenCore Post-Install (dortania.github.io)</strong></em></a></p><p><em><strong>L\u01B0u \xFD 2 n\u1EBFu nh\u01B0 c\xE1c b\u1EA1n \u0111\xE3 l\xE0m ph\u1EA7n chu\u1EA9n b\u1ECB nh\u01B0ng v\u1EABn b\u1ECB l\u1ED5i restart khi sleep th\xEC c\xE1c b\u1EA1n c\xF3 th\u1EC3 th\u1EED b\u1ECF kext sau v\xE0o m\u1EE5c <code>EFI \u21D2 kext</code></strong></em>\xA0<a href="https://github.com/acidanthera/HibernationFixup/releases" target="_blank" rel="noopener noreferrer"><em><strong>Releases \xB7 acidanthera/HibernationFixup \xB7 GitHub</strong></em></a>\xA0<em><strong>nh\u1EDB snaps l\u1EA1i config</strong></em></p><h2 id="wake-keyboard" tabindex="-1"><a class="header-anchor" href="#wake-keyboard" aria-hidden="true">#</a> Wake Keyboard</h2><blockquote><p>\u0110\u1ED1i v\u1EDBi 1 s\u1ED1 m\xE1y khi wake c\u1EA7n nh\u1EA5n ph\xEDm ngu\u1ED3n ho\u1EB7c nh\u1EA5n ph\xEDm nhi\u1EC1u l\u1EA7n, \u1EDF \u0111\xE2y m\xECnh s\u1EBD h\u01B0\u1EDBng d\u1EABn c\xE1ch b\u1EA1n ch\u1EC9 c\u1EA7n nh\u1EA5n ph\xEDm 1 l\u1EA7n th\xF4i l\xE0 \u0111\xE3 wake l\xEAn.</p></blockquote><h3 id="cach-1" tabindex="-1"><a class="header-anchor" href="#cach-1" aria-hidden="true">#</a> C\xE1ch 1</h3><h4 id="chuan-bi" tabindex="-1"><a class="header-anchor" href="#chuan-bi" aria-hidden="true">#</a> Chu\u1EA9n b\u1ECB:</h4><p>B1: T\u1EA3i\xA0<a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil</a></p><p>B2: T\u1EA3i\xA0<a href="https://github.com/corpnewt/ProperTree" target="_blank" rel="noopener noreferrer">ProperTree</a></p><h4 id="tien-hanh" tabindex="-1"><a class="header-anchor" href="#tien-hanh" aria-hidden="true">#</a> Ti\u1EBFn h\xE0nh:</h4><p>B1: Ch\u1EA1y gfxutil l\xEAn n\u1EBFu c\xE1c b\u1EA1n n\xE0o b\u1ECB tr\u01B0\u1EDDng h\u1EE3p ch\u1EA1y l\xEAn v\xE0 t\u1EAFt th\xEC c\xE1c b\u1EA1n v\xE0o setting terminal ch\u1EC9nh l\u1EA1i theo \u1EA3nh</p><img src="https://lh5.googleusercontent.com/PyXzSHa0ZXnWT9Nm7JQ74QTxd2WYGqxkkH9NBwTt4haPkw7q-vaNO9yQF9DPJ7lHm-7cRsxWg6tvyigRCbVD0NqB0uLcLoVeRuw7eqiDHmMNZKFdPoygA87QqSnKH_O2ODwtQmSi=s0"><img src="https://lh5.googleusercontent.com/dpQSRkek8DWUfScbj6ytf8aJ_9n29HZzuA4qfaeFzPy3lbANYZGiXVzgICHBgLxvrkEwXDUmMAyFcPQCWqUPXuP7utVD0VrYBm6CNOKEbFIoQ0LvhNrxd2QKCcALUtJM9h4LQ1Ts=s"><p>B2: T\xECm \u0111\u1EBFn d\xF2ng c\xF3 t\xEAn l\xE0 <code>XHCI (XHC1/XHC)</code></p><p>B3: Th\xEAm 1 d\xF2ng v\xE0o <code>DeviceProperties</code> v\u1EDBi t\xEAn v\xE0 \u0111o\u1EA1n code v\u1EEBa x\xE1c \u0111\u1ECBnh</p><p>B4: <code>acpi-wake-type | Data | &lt;01&gt;</code> th\xEAm \u0111o\u1EA1n n\xE0y v\xE0o config d\u01B0\u1EDBi d\xF2ng v\u1EEBa th\xEAm</p><blockquote><p>sau khi l\xE0m xong s\u1EBD \u0111\u01B0\u1EE3c nh\u01B0 h\xECnh</p></blockquote><img src="https://lh5.googleusercontent.com/7fQ2QPEYVztxe_oXS8BGD7XTf-Rnk8k-Oy_r_wXERhV1BRIkf8VtRFE76YfuHOhenaS1SKM4SUrRkc931yr7fz6MQ6WSIa45wJANM68dwIzZzVBjScEcihxnuJivJANyGFzD28b7=s0"><blockquote><p>L\u01B0u \xFD: N\u1EBFu kh\xF4ng \u0111\u01B0\u1EE3c h\xE3y chuy\u1EC3n sang c\xE1ch 2**</p></blockquote><h3 id="cach-2" tabindex="-1"><a class="header-anchor" href="#cach-2" aria-hidden="true">#</a> <em><strong>C\xE1ch 2:</strong></em></h3><p>B1: T\u1EA3i\xA0<a href="https://dortania.github.io/OpenCore-Post-Install/usb/misc/keyboard.html#method-1-add-wake-type-property-recommended" target="_blank" rel="noopener noreferrer">Keyboard Wake Issues | OpenCore Post-Install (dortania.github.io)</a>\xA0v\xE0\xA0<a href="https://github.com/osy86/USBWakeFixup/blob/master/SSDT-USBW.dsl" target="_blank" rel="noopener noreferrer">SSDT-USBW.dsl</a></p><p>B2: B\u1ECF <code>kext</code> v\u1EEBa t\u1EA3i v\xE0o folder kext v\xE0 snapshot l\u1EA1i config</p><p>B3: m\u1EDF <code>SSDT</code> v\u1EEBa t\u1EA3i b\u1EB1ng\xA0<a href="https://github.com/acidanthera/MaciASL/releases" target="_blank" rel="noopener noreferrer">MaciASL</a></p><p>B4: c\xE1c b\u1EA1n chuy\u1EC3n \u0111o\u1EA1n m\xE3 v\u1EEBa l\u1EA5y \u1EDF c\xE1ch 1 th\xE0nh <code>/PC00@0/XHCX@14\xA0-&gt; \\_SB.PC00.XHCX</code></p><blockquote><p>thay ho\u1EB7c b\u1ECF X th\xE0nh \u0111o\u1EA1n m\xE3 m\xE0 b\u1EA1n thu \u0111\u01B0\u1EE3c</p></blockquote><img src="https://lh3.googleusercontent.com/MdXvHr5gwTd97t_L09r40Y7Wag2IYGURnK7zT8yTpiUItrRkBbCipKIXr10kb8HYDg2zY4FxyjfU_FmppKLmv2KOorO7ZBlMXQs2wxCD1C-GDF5gdTjExWJPlNFouMNEzOFeJ02c=s0"><p>B5: Save l\u1EA1i v\xE0 b\u1ECF v\xF4 <code>EFI \u21D2 OC \u21D2 ACPI</code> (ho\u1EB7c <code>EFI ==&gt; Clover ==&gt; ACPI ==&gt; Patched</code>)</p><p>B6: Snapshot config v\xE0 reboot</p><p><strong>L\u01B0u \xFD : Ngu\u1ED3n:</strong>\xA0<a href="https://dortania.github.io/OpenCore-Post-Install/usb/misc/keyboard.html#method-1-add-wake-type-property-recommended" target="_blank" rel="noopener noreferrer"><strong>Keyboard Wake Issues | OpenCore Post-Install (dortania.github.io)</strong></a></p><p><strong>L\u01B0u \xFD chung : n\u1EBFu c\xE1c b\u1EA1n c\xF3 card r\u1EDDi th\xEC ph\u1EA3i disable card r\u1EDDi \u0111i</strong></p><p><strong>Ngu\u1ED3n tham kh\u1EA3o:</strong>\xA0<a href="https://dortania.github.io/OpenCore-Post-Install/usb/misc/keyboard.html#method-3-configuring-darkwake" target="_blank" rel="noopener noreferrer"><strong>C\xE1c v\u1EA5n \u0111\u1EC1 v\u1EC1 \u0111\xE1nh th\u1EE9c b\xE0n ph\xEDm | OpenCore Sau c\xE0i \u0111\u1EB7t (dortania.github.io)</strong></a></p><h2 id="darkwake" tabindex="-1"><a class="header-anchor" href="#darkwake" aria-hidden="true">#</a> DarkWake</h2><blockquote><p>Tr\u01B0\u1EDBc h\u1EBFt ta ph\u1EA3i bi\u1EBFt,\xA0darkwake l\xE0 g\xEC?\xA0Darkwake l\xE0 khi b\u1EA1n wake m\xE1y sau sleep m\xE1y ch\u1EC9 th\u1EE9c d\u1EADy 1 ph\u1EA7n c\xF2n ph\u1EA7n c\xF2n l\u1EA1i v\u1EABn c\xF2n \u0111ang ng\u1EE7</p></blockquote><p>B1: X\xE1c \u0111\u1ECBnh nh\u1EEFng ph\u1EA7n c\u1EA7n patch theo b\u1EA3ng sau</p><img src="https://lh3.googleusercontent.com/TjtlF8DFtuJsl0Snd-1I_auyFN-Fr9P9ZZscbBG_RAnNn928URtNr_GnAgqe0qZfGTupa0_n9G3ta8N-102NlqAcS_evaXsh6xTIa3wuWrPetYLuY0s1R6o3qavZqniVFuPBpR9p=s0"><p>B2: C\u1ED9ng t\u1EA5t c\u1EA3 value c\u1EE7a c\xE1c ph\u1EA7n b\u1EA1n c\u1EA7n patch nh\u01B0 \u1EDF \u0111\xE2y m\xECnh c\u1EA7n patch</p><p><code>1,3,512</code> th\xEC m\xECnh s\u1EBD l\xE0m nh\u01B0 sau <code>1+3+512 = 516\xA0</code></p><p>B3: Th\xEAm v\xE0o boot-arg \u0111o\u1EA1n code sau:\xA0<code>darkwake=XXX</code>\xA0(thay XXX b\u1EB1ng value m\xE0 b\u1EA1n thu \u0111\u01B0\u1EE3c)</p><p>B4: Save l\u1EA1i v\xE0 reboot</p><p><strong>L\u01B0u \xFD: Source tham kh\u1EA3o</strong>\xA0<a href="https://dortania.github.io/OpenCore-Post-Install/usb/misc/keyboard.html#method-3-configuring-darkwake" target="_blank" rel="noopener noreferrer"><strong>C\xE1c v\u1EA5n \u0111\u1EC1 v\u1EC1 \u0111\xE1nh th\u1EE9c b\xE0n ph\xEDm | OpenCore Sau c\xE0i \u0111\u1EB7t (dortania.github.io)</strong></a></p><p><strong>L\u01B0u \xFD 2: N\u1EBFu qu\xE1 b\u1ED1i r\u1ED1i kh\xF4ng bi\u1EBFt n\xEAn ch\u1ECDn c\xE1i n\xE0o th\xEC c\xE1c b\u1EA1n th\xEAm \u0111o\u1EA1n code sau v\xE0o boot-arg\xA0<code>darkwake=0</code>\xA0( n\xF3 s\u1EBD v\xF4 hi\u1EC7u ho\xE1 darkwake )</strong></p><ul><li><a href="https://heavietnam.ga/2021/09/29/vi-1map-usb-intel-and-amd/" target="_blank" rel="noopener noreferrer">Map USB</a></li><li><a href="https://everythingforhackintosher.wordpress.com/2021/09/10/157/" target="_blank" rel="noopener noreferrer">Fix power management</a></li><li><a href="https://heavietnam.ga/2021/09/29/vi-6hotpatch-pts-wake-tts/" target="_blank" rel="noopener noreferrer">Fix PTS wake TTS</a></li></ul>`,69),h=[o];function c(i,s){return t(),a("div",null,h)}var d=e(r,[["render",c],["__file","2022-01-02-fix_sleep.html.vue"]]);export{d as default};
