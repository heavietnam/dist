<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" type="image/png" sizes="16x16" href="/img/logo/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/logo/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="Gungnir Theme"><meta name="apple-mobile-web-app-title" content="Gungnir Theme"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/img/logo/apple-touch-icon.png"><meta name="theme-color" content="#377bb5"><meta name="msapplication-TileColor" content="#377bb5"><title>Fixing KASLR | Hackintosh Guide</title><meta name="description" content="Hướng dẫn cài đặt Hackintosh từ A tới Z">
    <link rel="modulepreload" href="/assets/app.60b0c704.js"><link rel="modulepreload" href="/assets/2021-11-01-fix-kaslr.html.60f0220a.js"><link rel="modulepreload" href="/assets/2021-11-01-fix-kaslr.html.eb4ed878.js"><link rel="prefetch" href="/assets/2022-01-01-fix_sound.html.a845abe8.js"><link rel="prefetch" href="/assets/2022-01-02-fix_sleep.html.18df4efc.js"><link rel="prefetch" href="/assets/2022-01-03-fix_internet_bluetooth.html.af5ccbb0.js"><link rel="prefetch" href="/assets/index.html.c7682c40.js"><link rel="prefetch" href="/assets/index.html.c830c440.js"><link rel="prefetch" href="/assets/2021-09-29-tim-hieu-hackintosh.html.f15cef7d.js"><link rel="prefetch" href="/assets/2021-09-30-tim-hieu-phan-cung.html.dade7b22.js"><link rel="prefetch" href="/assets/index.html.dea796f5.js"><link rel="prefetch" href="/assets/2021-09-29-tim-hieu-hackintosh.html.0026df6b.js"><link rel="prefetch" href="/assets/2021-09-30-tim-hieu-phan-cung.html.9a804e97.js"><link rel="prefetch" href="/assets/2021-10-01-convert-bootloader.html.652ded97.js"><link rel="prefetch" href="/assets/2021-10-02-ssdt-recommend.html.e8180c5d.js"><link rel="prefetch" href="/assets/2021-10-03-boot-argument.html.8e30be30.js"><link rel="prefetch" href="/assets/2021-11-23-create_efi_opencore.html.8ba32f25.js"><link rel="prefetch" href="/assets/2021-11-24-create_efi_offline.html.608b6cd8.js"><link rel="prefetch" href="/assets/2021-11-25-create_efi_online.html.9adf0d70.js"><link rel="prefetch" href="/assets/2021-11-26-opencore_dedug.html.750bf626.js"><link rel="prefetch" href="/assets/2021-11-27-opencore_legacy.html.bfdd5ae2.js"><link rel="prefetch" href="/assets/2021-11-02-fix-stuck-log.html.54726bd1.js"><link rel="prefetch" href="/assets/2021-11-03-boot-issues.html.d83c249a.js"><link rel="prefetch" href="/assets/2021-11-04-kernel-issues.html.1f508e7d.js"><link rel="prefetch" href="/assets/2021-11-05-emulated-nvram.html.bba55a83.js"><link rel="prefetch" href="/assets/2021-11-06-fix-rtc.html.14e83fd4.js"><link rel="prefetch" href="/assets/2021-11-07-popertree-error.html.d50a5758.js"><link rel="prefetch" href="/assets/2021-11-08-bigsur-error.html.d3ed1bed.js"><link rel="prefetch" href="/assets/2021-11-09-monterey-error.html.a4d7a908.js"><link rel="prefetch" href="/assets/404.html.2ea53f12.js"><link rel="prefetch" href="/assets/index.html.f3e0ee0e.js"><link rel="prefetch" href="/assets/index.html.320f5516.js"><link rel="prefetch" href="/assets/index.html.592fe07a.js"><link rel="prefetch" href="/assets/index.html.6b8494d7.js"><link rel="prefetch" href="/assets/2022-01-01-fix_sound.html.2cc33989.js"><link rel="prefetch" href="/assets/2022-01-02-fix_sleep.html.a75bd9d9.js"><link rel="prefetch" href="/assets/2022-01-03-fix_internet_bluetooth.html.367d02a5.js"><link rel="prefetch" href="/assets/index.html.2fe6b712.js"><link rel="prefetch" href="/assets/index.html.4c15a1b0.js"><link rel="prefetch" href="/assets/2021-09-29-tim-hieu-hackintosh.html.19e014b1.js"><link rel="prefetch" href="/assets/2021-09-30-tim-hieu-phan-cung.html.4f628ad5.js"><link rel="prefetch" href="/assets/index.html.6fa6b4df.js"><link rel="prefetch" href="/assets/2021-09-29-tim-hieu-hackintosh.html.273272ee.js"><link rel="prefetch" href="/assets/2021-09-30-tim-hieu-phan-cung.html.cc206837.js"><link rel="prefetch" href="/assets/2021-10-01-convert-bootloader.html.e1efc319.js"><link rel="prefetch" href="/assets/2021-10-02-ssdt-recommend.html.98d5d288.js"><link rel="prefetch" href="/assets/2021-10-03-boot-argument.html.ac828b39.js"><link rel="prefetch" href="/assets/2021-11-23-create_efi_opencore.html.1277b61e.js"><link rel="prefetch" href="/assets/2021-11-24-create_efi_offline.html.263b7528.js"><link rel="prefetch" href="/assets/2021-11-25-create_efi_online.html.c02df2b3.js"><link rel="prefetch" href="/assets/2021-11-26-opencore_dedug.html.e28db2ef.js"><link rel="prefetch" href="/assets/2021-11-27-opencore_legacy.html.3ccd812c.js"><link rel="prefetch" href="/assets/2021-11-02-fix-stuck-log.html.84373eb7.js"><link rel="prefetch" href="/assets/2021-11-03-boot-issues.html.a233e71b.js"><link rel="prefetch" href="/assets/2021-11-04-kernel-issues.html.f7ec1295.js"><link rel="prefetch" href="/assets/2021-11-05-emulated-nvram.html.2fa67148.js"><link rel="prefetch" href="/assets/2021-11-06-fix-rtc.html.2b611060.js"><link rel="prefetch" href="/assets/2021-11-07-popertree-error.html.380b01ff.js"><link rel="prefetch" href="/assets/2021-11-08-bigsur-error.html.a7b1cab0.js"><link rel="prefetch" href="/assets/2021-11-09-monterey-error.html.19d56839.js"><link rel="prefetch" href="/assets/404.html.d3be020c.js"><link rel="prefetch" href="/assets/index.html.15cb9a19.js"><link rel="prefetch" href="/assets/index.html.06a28618.js"><link rel="prefetch" href="/assets/index.html.5bdaa8ce.js"><link rel="prefetch" href="/assets/index.html.f5923d24.js"><link rel="prefetch" href="/assets/404.e6f1ab8c.js"><link rel="prefetch" href="/assets/HomePage.ce78f478.js"><link rel="prefetch" href="/assets/Layout.3f01dd9f.js"><link rel="prefetch" href="/assets/Links.185df3aa.js"><link rel="prefetch" href="/assets/Post.4598ae31.js"><link rel="prefetch" href="/assets/Tags.fb9698c8.js">
    <link rel="stylesheet" href="/assets/style.db6106a0.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar is-fixed is-visible invert"><span><a href="/" class=""><span class="site-name">Trang Chủ</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Giới Thiệu"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0 0 512 512" fill="currentColor"><path d="M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z"/><path d="M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"/></svg></span><span>Giới Thiệu</span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Tài Nguyên"><span class="title"><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-1.6 -1.6 19.2 19.2" fill="currentColor"><path d="M4.98 1a.5.5 0 00-.39.188L1.54 5H6a.5.5 0 01.5.5 1.5 1.5 0 003 0A.5.5 0 0110 5h4.46l-3.05-3.812A.5.5 0 0011.02 1H4.98zM3.81.563A1.5 1.5 0 014.98 0h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 01.106.374l-.39 3.124A1.5 1.5 0 0114.117 10H1.883A1.5 1.5 0 01.394 8.686l-.39-3.124a.5.5 0 01.106-.374L3.81.563zM.125 11.17A.5.5 0 01.5 11H6a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0114.117 16H1.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393z"/></svg></span><span>Tài Nguyên</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Tài Nguyên"><span class="title"><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-1.6 -1.6 19.2 19.2" fill="currentColor"><path d="M4.98 1a.5.5 0 00-.39.188L1.54 5H6a.5.5 0 01.5.5 1.5 1.5 0 003 0A.5.5 0 0110 5h4.46l-3.05-3.812A.5.5 0 0011.02 1H4.98zM3.81.563A1.5 1.5 0 014.98 0h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 01.106.374l-.39 3.124A1.5 1.5 0 0114.117 10H1.883A1.5 1.5 0 01.394 8.686l-.39-3.124a.5.5 0 01.106-.374L3.81.563zM.125 11.17A.5.5 0 01.5 11H6a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0114.117 16H1.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393z"/></svg></span><span>Tài Nguyên</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="EFI"><!--[--><!--]--><!----><span>EFI</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="Image"><!--[--><!--]--><!----><span>Image</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="Tool"><!--[--><!--]--><!----><span>Tool</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="heavietnam theme"><!--[--><!--]--><!----><span>heavietnam theme</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/guide/" class="router-link-active" aria-label="Cài Đặt"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0.48 0.48 23.04 23.04" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 17H4V5h8V3H4c-1.11 0-2 .89-2 2v12a2 2 0 002 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2v3z"/><path d="M17 14l5-5-1.41-1.41L18 10.17V3h-2v7.17l-2.59-2.58L12 9z"/></svg></span><span>Cài Đặt</span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/fix/" class="" aria-label="Fix Lỗi"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-35.84 -35.84 583.68 583.68" fill="currentColor"><path d="M241.406 21l-15.22 34.75a182.242 182.242 0 00-23.467 2.97l-23.282-30.064-25.094 8.532-.125 38.25c-10.63 5.464-20.817 12.07-30.44 19.78L88.313 79.25 70.156 98.563 88.312 133a180.58 180.58 0 00-15.218 26.094l-38.938 1.062-7.906 25.28 31.438 23.158c-1.505 9.38-2.24 18.858-2.282 28.344L20.5 254.625l3.656 26.25 38.313 7.5a181.6 181.6 0 008.5 23.5L45.72 343.22l14.093 22.436 39.25-9.187a185.132 185.132 0 007.718 8.53 187.386 187.386 0 0017.72 16.125l-7.625 39.313 22.938 13.25 29.968-26.094a179.393 179.393 0 0026.407 8.312l9.782 38.406 26.405 2.157 15.875-36.22c10.97-.66 21.904-2.3 32.656-4.938l25.22 29.22 24.593-9.844-.72-14.813-57.406-43.53c-16.712 4.225-34.042 5.356-51.063 3.436-31.754-3.58-62.27-17.92-86.218-42.686-54.738-56.614-53.173-146.67 3.438-201.406 27.42-26.513 62.69-39.963 98-40.344 37.59-.406 75.214 13.996 103.438 43.187 45.935 47.512 52.196 118.985 19.562 173.095l31.97 24.25a181.443 181.443 0 0010.75-19.375l38.655-1.063 7.906-25.28-31.217-23a183.327 183.327 0 002.28-28.594l34.688-17.625-3.655-26.25-38.28-7.5a181.934 181.934 0 00-12.75-32.125l22.81-31.594-15.25-21.657-37.56 10.906c-.472-.5-.93-1.007-1.408-1.5a184.77 184.77 0 00-18.937-17.064l7.188-37.125L334 43.78l-28.5 24.814c-9.226-3.713-18.702-6.603-28.313-8.75l-9.343-36.688L241.406 21zM183.25 174.5c-10.344.118-20.597 2.658-30 7.28l45.22 34.314c13.676 10.376 17.555 30.095 7.06 43.937-10.498 13.85-30.656 15.932-44.53 5.408l-45.188-34.282c-4.627 24.793 4.135 51.063 25.594 67.344 19.245 14.597 43.944 17.33 65.22 9.688l4.78-1.72 4.03 3.063 135.19 102.564 4.03 3.062-.344 5.063c-1.637 22.55 7.59 45.61 26.844 60.217 21.46 16.28 49.145 17.63 71.78 6.5l-45.186-34.28c-13.874-10.526-17.282-30.506-6.78-44.344 10.5-13.84 30.537-15.405 44.217-5.032l45.188 34.283c4.616-24.784-4.11-51.067-25.563-67.344-19.313-14.658-43.817-17.562-64.968-10.033l-4.75 1.688-4.03-3.063-135.19-102.562-4.03-3.063.344-5.03c1.55-22.387-7.85-45.194-27.157-59.845-12.544-9.516-27.222-13.978-41.78-13.812zm43.563 90.25l163.875 124.344L379.406 404 215.5 279.625l11.313-14.875z"/></svg></span><span>Fix Lỗi</span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/optimize/" class="" aria-label="Tối Ưu"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-3 -3 30 30" fill="currentColor"><path d="M23.661 11.997a3.242 3.242 0 11-6.479 0V6.55H11.51a3.293 3.293 0 010-6.55h8.854a3.291 3.291 0 013.291 3.259l.006 8.738zm-16.775-.011a3.275 3.275 0 10-6.55 0 3.275 3.275 0 006.55 0zm5.42-3.28H5.442c1.153.647 1.944 1.867 1.944 3.28a3.766 3.766 0 01-1.802 3.204h3.672v5.453A3.181 3.181 0 0012.372 24a3.323 3.323 0 003.291-3.357v-8.695a3.318 3.318 0 00-3.357-3.242z"/></svg></span><span>Tối Ưu</span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/tags/" class="" aria-label="Tag"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg></span><span>Tag</span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://forum.heavietnam.ga" rel="noopener noreferrer" target="_blank" aria-label="Diễn đàn"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0.48 0.48 23.04 23.04" fill="currentColor"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 4v7H5.17L4 12.17V4h11m1-2H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm5 4h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1z"/></svg></span><span>Diễn đàn</span><!--[--><!--]--></a></div><!--]--><!----></nav><!--[--><!--]--><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Giới Thiệu"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0 0 512 512" fill="currentColor"><path d="M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z"/><path d="M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"/></svg></span><span>Giới Thiệu</span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Tài Nguyên"><span class="title"><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-1.6 -1.6 19.2 19.2" fill="currentColor"><path d="M4.98 1a.5.5 0 00-.39.188L1.54 5H6a.5.5 0 01.5.5 1.5 1.5 0 003 0A.5.5 0 0110 5h4.46l-3.05-3.812A.5.5 0 0011.02 1H4.98zM3.81.563A1.5 1.5 0 014.98 0h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 01.106.374l-.39 3.124A1.5 1.5 0 0114.117 10H1.883A1.5 1.5 0 01.394 8.686l-.39-3.124a.5.5 0 01.106-.374L3.81.563zM.125 11.17A.5.5 0 01.5 11H6a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0114.117 16H1.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393z"/></svg></span><span>Tài Nguyên</span></span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Tài Nguyên"><span class="title"><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-1.6 -1.6 19.2 19.2" fill="currentColor"><path d="M4.98 1a.5.5 0 00-.39.188L1.54 5H6a.5.5 0 01.5.5 1.5 1.5 0 003 0A.5.5 0 0110 5h4.46l-3.05-3.812A.5.5 0 0011.02 1H4.98zM3.81.563A1.5 1.5 0 014.98 0h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 01.106.374l-.39 3.124A1.5 1.5 0 0114.117 10H1.883A1.5 1.5 0 01.394 8.686l-.39-3.124a.5.5 0 01.106-.374L3.81.563zM.125 11.17A.5.5 0 01.5 11H6a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0114.117 16H1.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393z"/></svg></span><span>Tài Nguyên</span></span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="EFI"><!--[--><!--]--><!----><span>EFI</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="Image"><!--[--><!--]--><!----><span>Image</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="Tool"><!--[--><!--]--><!----><span>Tool</span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://facebook.com/zenfection" rel="noopener noreferrer" target="_blank" aria-label="heavietnam theme"><!--[--><!--]--><!----><span>heavietnam theme</span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/guide/" class="router-link-active" aria-label="Cài Đặt"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0.48 0.48 23.04 23.04" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 17H4V5h8V3H4c-1.11 0-2 .89-2 2v12a2 2 0 002 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2v3z"/><path d="M17 14l5-5-1.41-1.41L18 10.17V3h-2v7.17l-2.59-2.58L12 9z"/></svg></span><span>Cài Đặt</span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/fix/" class="" aria-label="Fix Lỗi"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-35.84 -35.84 583.68 583.68" fill="currentColor"><path d="M241.406 21l-15.22 34.75a182.242 182.242 0 00-23.467 2.97l-23.282-30.064-25.094 8.532-.125 38.25c-10.63 5.464-20.817 12.07-30.44 19.78L88.313 79.25 70.156 98.563 88.312 133a180.58 180.58 0 00-15.218 26.094l-38.938 1.062-7.906 25.28 31.438 23.158c-1.505 9.38-2.24 18.858-2.282 28.344L20.5 254.625l3.656 26.25 38.313 7.5a181.6 181.6 0 008.5 23.5L45.72 343.22l14.093 22.436 39.25-9.187a185.132 185.132 0 007.718 8.53 187.386 187.386 0 0017.72 16.125l-7.625 39.313 22.938 13.25 29.968-26.094a179.393 179.393 0 0026.407 8.312l9.782 38.406 26.405 2.157 15.875-36.22c10.97-.66 21.904-2.3 32.656-4.938l25.22 29.22 24.593-9.844-.72-14.813-57.406-43.53c-16.712 4.225-34.042 5.356-51.063 3.436-31.754-3.58-62.27-17.92-86.218-42.686-54.738-56.614-53.173-146.67 3.438-201.406 27.42-26.513 62.69-39.963 98-40.344 37.59-.406 75.214 13.996 103.438 43.187 45.935 47.512 52.196 118.985 19.562 173.095l31.97 24.25a181.443 181.443 0 0010.75-19.375l38.655-1.063 7.906-25.28-31.217-23a183.327 183.327 0 002.28-28.594l34.688-17.625-3.655-26.25-38.28-7.5a181.934 181.934 0 00-12.75-32.125l22.81-31.594-15.25-21.657-37.56 10.906c-.472-.5-.93-1.007-1.408-1.5a184.77 184.77 0 00-18.937-17.064l7.188-37.125L334 43.78l-28.5 24.814c-9.226-3.713-18.702-6.603-28.313-8.75l-9.343-36.688L241.406 21zM183.25 174.5c-10.344.118-20.597 2.658-30 7.28l45.22 34.314c13.676 10.376 17.555 30.095 7.06 43.937-10.498 13.85-30.656 15.932-44.53 5.408l-45.188-34.282c-4.627 24.793 4.135 51.063 25.594 67.344 19.245 14.597 43.944 17.33 65.22 9.688l4.78-1.72 4.03 3.063 135.19 102.564 4.03 3.062-.344 5.063c-1.637 22.55 7.59 45.61 26.844 60.217 21.46 16.28 49.145 17.63 71.78 6.5l-45.186-34.28c-13.874-10.526-17.282-30.506-6.78-44.344 10.5-13.84 30.537-15.405 44.217-5.032l45.188 34.283c4.616-24.784-4.11-51.067-25.563-67.344-19.313-14.658-43.817-17.562-64.968-10.033l-4.75 1.688-4.03-3.063-135.19-102.562-4.03-3.063.344-5.03c1.55-22.387-7.85-45.194-27.157-59.845-12.544-9.516-27.222-13.978-41.78-13.812zm43.563 90.25l163.875 124.344L379.406 404 215.5 279.625l11.313-14.875z"/></svg></span><span>Fix Lỗi</span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/optimize/" class="" aria-label="Tối Ưu"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-3 -3 30 30" fill="currentColor"><path d="M23.661 11.997a3.242 3.242 0 11-6.479 0V6.55H11.51a3.293 3.293 0 010-6.55h8.854a3.291 3.291 0 013.291 3.259l.006 8.738zm-16.775-.011a3.275 3.275 0 10-6.55 0 3.275 3.275 0 006.55 0zm5.42-3.28H5.442c1.153.647 1.944 1.867 1.944 3.28a3.766 3.766 0 01-1.802 3.204h3.672v5.453A3.181 3.181 0 0012.372 24a3.323 3.323 0 003.291-3.357v-8.695a3.318 3.318 0 00-3.357-3.242z"/></svg></span><span>Tối Ưu</span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/tags/" class="" aria-label="Tag"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 010 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg></span><span>Tag</span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://forum.heavietnam.ga" rel="noopener noreferrer" target="_blank" aria-label="Diễn đàn"><!--[--><!--]--><span class="nav-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0.48 0.48 23.04 23.04" fill="currentColor"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 4v7H5.17L4 12.17V4h11m1-2H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm5 4h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1z"/></svg></span><span>Diễn đàn</span><!--[--><!--]--></a></div><!--]--><!----></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/guide/" class="router-link-active sidebar-item sidebar-heading" aria-label="Giới Thiệu Hackintosh"><!--[--><!--]--><!----><span>Giới Thiệu Hackintosh</span><!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Kiến thức cần có <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/guide/basic/2021-09-29-tim-hieu-hackintosh.html" class="sidebar-item" aria-label="Hackintosh là gì ?"><!--[--><!--]--><!----><span>Hackintosh là gì ?</span><!--[--><!--]--></a><!----></li><li><a href="/guide/basic/2021-09-30-tim-hieu-phan-cung.html" class="sidebar-item" aria-label="Tìm hiểu Phần Cứng"><!--[--><!--]--><!----><span>Tìm hiểu Phần Cứng</span><!--[--><!--]--></a><!----></li><li><a href="/guide/basic/2021-10-01-convert-bootloader.html" class="sidebar-item" aria-label="Clover to Opencore"><!--[--><!--]--><!----><span>Clover to Opencore</span><!--[--><!--]--></a><!----></li><li><a href="/guide/basic/2021-10-02-ssdt-recommend.html" class="sidebar-item" aria-label="SSDT-Recommned"><!--[--><!--]--><!----><span>SSDT-Recommned</span><!--[--><!--]--></a><!----></li><li><a href="/guide/basic/2021-10-03-boot-argument.html" class="sidebar-item" aria-label="Boot Arguments"><!--[--><!--]--><!----><span>Boot Arguments</span><!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Cài đặt Hackintosh <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/guide/install/2021-11-23-create_efi_opencore.html" class="sidebar-item" aria-label="Cách tạo EFI Opencore"><!--[--><!--]--><!----><span>Cách tạo EFI Opencore</span><!--[--><!--]--></a><!----></li><li><a href="/guide/install/2021-11-24-create_efi_offline.html" class="sidebar-item" aria-label="Cách tạo EFI Opencore Offline"><!--[--><!--]--><!----><span>Cách tạo EFI Opencore Offline</span><!--[--><!--]--></a><!----></li><li><a href="/guide/install/2021-11-25-create_efi_online.html" class="sidebar-item" aria-label="Cách tạo EFI Opencore Online"><!--[--><!--]--><!----><span>Cách tạo EFI Opencore Online</span><!--[--><!--]--></a><!----></li><li><a href="/guide/install/2021-11-26-opencore_dedug.html" class="sidebar-item" aria-label="Opencore Debug"><!--[--><!--]--><!----><span>Opencore Debug</span><!--[--><!--]--></a><!----></li><li><a href="/guide/install/2021-11-27-opencore_legacy.html" class="sidebar-item" aria-label="Opencore Legacy"><!--[--><!--]--><!----><span>Opencore Legacy</span><!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Vấn đề gặp phải <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Fixing KASLR"><!--[--><!--]--><!----><span>Fixing KASLR</span><!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#kaslr-la-gi" class="router-link-active router-link-exact-active sidebar-item" aria-label="KASLR là gì?"><!--[--><!--]--><!----><span>KASLR là gì?</span><!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#vay-khi-nao-can-fix-kaslr" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vậy khi nào cần Fix KASLR"><!--[--><!--]--><!----><span>Vậy khi nào cần Fix KASLR</span><!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#chuan-bi" class="router-link-active router-link-exact-active sidebar-item" aria-label="Chuẩn bị:"><!--[--><!--]--><!----><span>Chuẩn bị:</span><!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#setting-bios" class="router-link-active router-link-exact-active sidebar-item" aria-label="Setting BIOS"><!--[--><!--]--><!----><span>Setting BIOS</span><!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#tim-slide-value" class="router-link-active router-link-exact-active sidebar-item" aria-label="Tìm Slide Value"><!--[--><!--]--><!----><span>Tìm Slide Value</span><!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#luu-y" class="router-link-active router-link-exact-active sidebar-item" aria-label="Lưu ý:"><!--[--><!--]--><!----><span>Lưu ý:</span><!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/guide/issue/2021-11-01-fix-kaslr.html#using-devirtualisemmio" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using DevirtualiseMmio"><!--[--><!--]--><!----><span>Using DevirtualiseMmio</span><!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/guide/issue/2021-11-02-fix-stuck-log.html" class="sidebar-item" aria-label="Fix [EB|#LOG:EXITBS:START]"><!--[--><!--]--><!----><span>Fix [EB|#LOG:EXITBS:START]</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-03-boot-issues.html" class="sidebar-item" aria-label="/guide/issue/2021-11-03-boot-issues.md"><!--[--><!--]--><!----><span>/guide/issue/2021-11-03-boot-issues.md</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-04-kernel-issues.html" class="sidebar-item" aria-label="Kernel Issue"><!--[--><!--]--><!----><span>Kernel Issue</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-05-emulated-nvram.html" class="sidebar-item" aria-label="Emulated NVRAM"><!--[--><!--]--><!----><span>Emulated NVRAM</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-06-fix-rtc.html" class="sidebar-item" aria-label="Fix RTC write issues"><!--[--><!--]--><!----><span>Fix RTC write issues</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-07-popertree-error.html" class="sidebar-item" aria-label="1 số lỗi ProperTree"><!--[--><!--]--><!----><span>1 số lỗi ProperTree</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-08-bigsur-error.html" class="sidebar-item" aria-label="Một số lỗi ở xuất hiện ở macOS Big Sur"><!--[--><!--]--><!----><span>Một số lỗi ở xuất hiện ở macOS Big Sur</span><!--[--><!--]--></a><!----></li><li><a href="/guide/issue/2021-11-09-monterey-error.html" class="sidebar-item" aria-label="macOS 12 Monterey"><!--[--><!--]--><!----><span>macOS 12 Monterey</span><!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><div class="page-content"><!--[--><main class="page"><!--[--><div class="article-header" style=""><!----><div class="article-header-content"><!----><h1 class="article-title">Fixing KASLR</h1><!----><div class="article-icons"><div class="article-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg><span>Võ Nguyễn Hoàng Long</span></div><div class="article-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg><span>2021-11-01</span></div><div class="article-icon"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 11-1.414-1.414zM12 20a7 7 0 100-14 7 7 0 000 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z"/></svg><span>11 min</span></div></div></div><!----></div><!--[--><!--]--><!--]--><div class="theme-gungnir-content"><!--[--><!--]--><div><h2 id="kaslr-la-gi" tabindex="-1"><a class="header-anchor" href="#kaslr-la-gi" aria-hidden="true">#</a> KASLR là gì?</h2><p>Nó là viết tắt của cụm từ <strong>Kernel address space layout randomization</strong>. Nó là 1 công cụ bảo mật của Apple làm cho những Hacker khó có thể tìm ra những object quan trọng trong bộ nhớ vì nó luôn thay đổi ngẫu nhiên sau mỗi lần khởi động chi tiết xem <a href="https://lwn.net/Articles/569635/" target="_blank" rel="noopener noreferrer">tại đây</a>.</p><p>Đối với những máy có memory maps nhỏ hoặc hoặc có quá nhiều device trong DSDT. Có thể sẽ có space cho kernel hoạt động nhưng cũng có thể sẽ có free space mà kernel không bao phủ tới. Vì thế ta sẽ không để macOS chọn 1 khu vực ngẫu nhiên để hoạt động trong mỗi lần reboot mà ta sẽ giới hạn khu vực bất kì mà chắc chắn nó sẽ hoạt động.</p><h2 id="vay-khi-nao-can-fix-kaslr" tabindex="-1"><a class="header-anchor" href="#vay-khi-nao-can-fix-kaslr" aria-hidden="true">#</a> Vậy khi nào cần Fix KASLR</h2><p>Thường khi boot macOS sẽ gặp các lỗi như sau:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Error allocating 0x1197b pages at 0x0000000017a80000 alloc type 2
Couldn&#39;t allocate runtime area

//hoặc

Only 244/256 slide values are usable!

//hoặc

panic(cpu 6 caller 0xffffff801fc057ba): a freed zone element has been modified in zone kalloc.4096: expected 0x3f00116dbe8a46f6 but found 0x3f00116d00000000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chuan-bi" tabindex="-1"><a class="header-anchor" href="#chuan-bi" aria-hidden="true">#</a> Chuẩn bị:</h2><p>B1: Tải OpenRuntime.efi (trong OpenCorePKG xem chi tiết <a href="https://heavietnam.ga/2020/11/23/cach-tao-efi-cho-opencore/" target="_blank" rel="noopener noreferrer">tại đây</a>).</p><p>B2: Tải OpenShell.efi (xem cách tải OpenShell <a href="https://heavietnam.ga/2020/11/23/cach-tao-efi-cho-opencore/" target="_blank" rel="noopener noreferrer">tại đây</a>).</p><p>B3: chỉnh config --&gt; Booter theo sau:</p><ul><li>AvoidRuntimeDefrag: YES</li><li>DevirtualiseMmio: YES</li><li>EnableSafeModeSlide: YES</li><li>ProtectUefiServices: NO</li><li>ProvideCustomSlide: YES</li><li>RebuildAppleMemoryMap: YES</li></ul><h2 id="setting-bios" tabindex="-1"><a class="header-anchor" href="#setting-bios" aria-hidden="true">#</a> Setting BIOS</h2><p>B1: Update BIOS (khá quan trọng đặc biệt là Z390).</p><p>B2: Clear CMOS.</p><p>B3: Bật các option sau trong BIOS:</p><ul><li>Above4GDecoding (đảm bảo rằng Booter -&gt; Quirks -&gt; ResizeAppleGpuBars: 0).</li><li>Boot Options -&gt; Windows8.1/10 mode.</li><li>Disable các option không cần thiết trong bios (không cần thiết ở đây có nghĩa là bạn không sử dụng): <ul><li>CSM</li><li>Intel SGX</li><li>Parallel Port</li><li>Serial Port</li><li>iGPU</li><li>Thunderbolt</li><li>LED lighting</li><li>Legacy USB</li></ul></li></ul><h2 id="tim-slide-value" tabindex="-1"><a class="header-anchor" href="#tim-slide-value" aria-hidden="true">#</a> Tìm Slide Value</h2><p>B1: Bạn chọn OpenShell.efi tại picker của OpenCore.</p><p>B2: Ấn Enter hoặc đợi vài giây.</p><p>B3: Các bạn gõ lệnh:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//truy cập vào ổ đĩa

fs0:

// kiểm tra xem bạn có đang ở đúng đường dẫn mong muốn không nếu không có thể thử fs1:

ls

// tạo file memmap.txt

memmap &gt; memmap.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://i.imgur.com/uQQPkHc.jpg" alt=""></p><p>B4: Mở file memmap.txt ra ta sẽ được:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Type       Start            End              # Pages          Attributes
BS_Code    0000000000000000-0000000000007FFF 0000000000000008 000000000000000F
Available  0000000000008000-000000000005DFFF 0000000000000056 000000000000000F
BS_Data    000000000005E000-000000000005FFFF 0000000000000002 000000000000000F
BS_Code    0000000000060000-000000000009EFFF 000000000000003F 000000000000000F
RT_Data    000000000009F000-000000000009FFFF 0000000000000001 800000000000000F
Available  0000000000100000-0000000000FFFFFF 0000000000000F00 000000000000000F
LoaderData 0000000001000000-00000000010FFFFF 0000000000000100 000000000000000F
Available  0000000001100000-000000001FFFFFFF 000000000001EF00 000000000000000F
Reserved   0000000020000000-00000000201FFFFF 0000000000000200 000000000000000F
Available  0000000020200000-0000000040003FFF 000000000001FE04 000000000000000F
Reserved   0000000040004000-0000000040004FFF 0000000000000001 000000000000000F
Available  0000000040005000-00000000CD431FFF 000000000008D42D 000000000000000F
LoaderCode 00000000CD432000-00000000CD53AFFF 0000000000000109 000000000000000F
BS_Data    00000000CD53B000-00000000CE025FFF 0000000000000AEB 000000000000000F
Available  00000000CE026000-00000000CE220FFF 00000000000001FB 000000000000000F
BS_Data    00000000CE221000-00000000CE5C2FFF 00000000000003A2 000000000000000F
Available  00000000CE5C3000-00000000CE5D6FFF 0000000000000014 000000000000000F
BS_Data    00000000CE5D7000-00000000CE762FFF 000000000000018C 000000000000000F
LoaderCode 00000000CE763000-00000000CE7EAFFF 0000000000000088 000000000000000F
BS_Data    00000000CE7EB000-00000000D90E3FFF 000000000000A8F9 000000000000000F
Available  00000000D90E4000-00000000D96C3FFF 00000000000005E0 000000000000000F
BS_Code    00000000D96C4000-00000000D9762FFF 000000000000009F 000000000000000F
RT_Code    00000000D9763000-00000000D9767FFF 0000000000000005 800000000000000F
BS_Code    00000000D9768000-00000000D97C5FFF 000000000000005E 000000000000000F
ACPI_NVS   00000000D97C6000-00000000D9DC6FFF 0000000000000601 000000000000000F
RT_Code    00000000D9DC7000-00000000D9DC9FFF 0000000000000003 800000000000000F
BS_Code    00000000D9DCA000-00000000D9DE0FFF 0000000000000017 000000000000000F
RT_Code    00000000D9DE1000-00000000D9DE6FFF 0000000000000006 800000000000000F
BS_Code    00000000D9DE7000-00000000D9DE8FFF 0000000000000002 000000000000000F
RT_Code    00000000D9DE9000-00000000D9DF6FFF 000000000000000E 800000000000000F
BS_Code    00000000D9DF7000-00000000D9F4DFFF 0000000000000157 000000000000000F
RT_Code    00000000D9F4E000-00000000D9F51FFF 0000000000000004 800000000000000F
BS_Code    00000000D9F52000-00000000D9F9CFFF 000000000000004B 000000000000000F
RT_Code    00000000D9F9D000-00000000D9FA3FFF 0000000000000007 800000000000000F
RT_Data    00000000D9FA4000-00000000D9FB0FFF 000000000000000D 800000000000000F
RT_Code    00000000D9FB1000-00000000D9FC2FFF 0000000000000012 800000000000000F
BS_Code    00000000D9FC3000-00000000D9FC5FFF 0000000000000003 000000000000000F
RT_Code    00000000D9FC6000-00000000D9FC7FFF 0000000000000002 800000000000000F
BS_Code    00000000D9FC8000-00000000D9FDEFFF 0000000000000017 000000000000000F
RT_Code    00000000D9FDF000-00000000D9FE4FFF 0000000000000006 800000000000000F
BS_Code    00000000D9FE5000-00000000D9FECFFF 0000000000000008 000000000000000F
RT_Code    00000000D9FED000-00000000D9FEDFFF 0000000000000001 800000000000000F
BS_Code    00000000D9FEE000-00000000D9FFCFFF 000000000000000F 000000000000000F
RT_Code    00000000D9FFD000-00000000D9FFDFFF 0000000000000001 800000000000000F
BS_Code    00000000D9FFE000-00000000DA008FFF 000000000000000B 000000000000000F
RT_Code    00000000DA009000-00000000DA00DFFF 0000000000000005 800000000000000F
BS_Code    00000000DA00E000-00000000DA039FFF 000000000000002C 000000000000000F
RT_Code    00000000DA03A000-00000000DA03AFFF 0000000000000001 800000000000000F
BS_Code    00000000DA03B000-00000000DA04AFFF 0000000000000010 000000000000000F
RT_Code    00000000DA04B000-00000000DA070FFF 0000000000000026 800000000000000F
BS_Code    00000000DA071000-00000000DA083FFF 0000000000000013 000000000000000F
RT_Code    00000000DA084000-00000000DA084FFF 0000000000000001 800000000000000F
BS_Code    00000000DA085000-00000000DA085FFF 0000000000000001 000000000000000F
RT_Code    00000000DA086000-00000000DA087FFF 0000000000000002 800000000000000F
BS_Code    00000000DA088000-00000000DA088FFF 0000000000000001 000000000000000F
RT_Code    00000000DA089000-00000000DA08DFFF 0000000000000005 800000000000000F
BS_Code    00000000DA08E000-00000000DA0A2FFF 0000000000000015 000000000000000F
RT_Data    00000000DA0A3000-00000000DA102FFF 0000000000000060 800000000000000F
RT_Code    00000000DA103000-00000000DA11DFFF 000000000000001B 800000000000000F
RT_Data    00000000DA11E000-00000000DA120FFF 0000000000000003 800000000000000F
RT_Data    00000000DA121000-00000000DA127FFF 0000000000000007 800000000000000F
RT_Data    00000000DA128000-00000000DA128FFF 0000000000000001 800000000000000F
RT_Data    00000000DA129000-00000000DA147FFF 000000000000001F 800000000000000F
Reserved   00000000DA148000-00000000DA4ADFFF 0000000000000366 000000000000000F
Reserved   00000000DA4AE000-00000000DA647FFF 000000000000019A 000000000000000F
ACPI_NVS   00000000DA648000-00000000DA70DFFF 00000000000000C6 000000000000000F
ACPI_NVS   00000000DA70E000-00000000DA8C7FFF 00000000000001BA 000000000000000F
ACPI_Recl  00000000DA8C8000-00000000DA8CCFFF 0000000000000005 000000000000000F
BS_Data    00000000DA8CD000-00000000DA8CDFFF 0000000000000001 000000000000000F
ACPI_NVS   00000000DA8CE000-00000000DA910FFF 0000000000000043 000000000000000F
BS_Data    00000000DA911000-00000000DAA5CFFF 000000000000014C 000000000000000F
BS_Code    00000000DAA5D000-00000000DACF6FFF 000000000000029A 000000000000000F
BS_Data    00000000DACF7000-00000000DAD06FFF 0000000000000010 000000000000000F
BS_Code    00000000DAD07000-00000000DAD18FFF 0000000000000012 000000000000000F
BS_Data    00000000DAD19000-00000000DAD1FFFF 0000000000000007 000000000000000F
RT_Data    00000000DAD20000-00000000DAFF3FFF 00000000000002D4 800000000000000F
BS_Data    00000000DAFF4000-00000000DAFFFFFF 000000000000000C 000000000000000F
Available  0000000100000000-000000011F1FFFFF 000000000001F200 000000000000000F
Reserved   00000000DBC00000-00000000DFDFFFFF 0000000000004200 8000000000000000
MMIO       00000000F8000000-00000000FBFFFFFF 0000000000004000 8000000000000001
MMIO       00000000FEC00000-00000000FEC00FFF 0000000000000001 8000000000000001
MMIO       00000000FED00000-00000000FED03FFF 0000000000000004 8000000000000001
MMIO       00000000FED1C000-00000000FED1FFFF 0000000000000004 8000000000000001
MMIO       00000000FEE00000-00000000FEE00FFF 0000000000000001 8000000000000001
MMIO       00000000FF000000-00000000FFFFFFFF 0000000000001000 8000000000000001

  Reserved  :         18,689 Pages (76,550,144 Bytes)
  LoaderCode:            401 Pages (1,642,496 Bytes)
  LoaderData:            256 Pages (1,048,576 Bytes)
  BS_Code   :          1,613 Pages (6,606,848 Bytes)
  BS_Data   :         47,748 Pages (195,575,808 Bytes)
  RT_Code   :            146 Pages (598,016 Bytes)
  RT_Data   :            876 Pages (3,588,096 Bytes)
  ACPI_Recl :              5 Pages (20,480 Bytes)
  ACPI_NVS  :          2,244 Pages (9,191,424 Bytes)
  MMIO      :         20,490 Pages (83,927,040 Bytes)
  MMIO_Port :              0 Pages (0 Bytes)
  PalCode   :              0 Pages (0 Bytes)
  Available :        969,334 Pages (3,970,392,064 Bytes)
  Persistent:              0 Pages (0 Bytes)
              -------------- 
Total Memory:          3,994 MB (4,188,663,808 Bytes)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>B5: Bây giờ ta sẽ tiến hành chuyển giá trị thành Slide value chú ý vào giá trị <code>Available</code> lớn nhất ở cột <code>start</code> (chuyển sang decimal để so sánh).</p><p>B6: Các bạn sẽ thực hiện tính toán theo công thức (chuyển sang decimal để tính toán).</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>(HEX - 0x100000)/0x200000 = Slide Value in HEX

(DECIMAL - 0x100000)/0x200000 = Slide Value in decimal

(0000000100000000 - 0x100000)/0x200000

// convert hex to decimal 

(4294967296 - 1048576)/2097152 = 2047,5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://i.imgur.com/LiarwbH.png" alt=""></p><p>B7: Nhưng con số này quá lớn (<strong>&gt; 256</strong>) vì vậy ta cần phải hạ xuống các <code>Available</code> có giá trị nhỏ hơn cho đến khi bé hơn hoặc bằng 256.</p><p>B8: Ta sẽ thử với <code>0000000001100000</code> covert to decimal: <code>17825792</code> ta được kết quả là 8.</p><p>B9: Add vào boot-arg tham số <code>slide=XXX</code> (ở đây ta sẽ có là s<code>lide=8</code>).</p><p>B10: Reboot.</p><h3 id="luu-y" tabindex="-1"><a class="header-anchor" href="#luu-y" aria-hidden="true">#</a> <strong>Lưu ý:</strong></h3><p>Ở 1 số máy sẽ nhận được slide value rất nhỏ như <code>slide=-0.379150390625</code> đối với trưởng hợp này ta sẽ đặt <code>slide=0</code>.</p><h2 id="using-devirtualisemmio" tabindex="-1"><a class="header-anchor" href="#using-devirtualisemmio" aria-hidden="true">#</a> Using DevirtualiseMmio</h2><p>Đối với 1 số main như Z390 và hầu hết dòng HEDT chúng ta cần lập 1 danh sách trắng. Đó là lúc MmioWhitelist phát huy tác dụng. Với <strong>DevirtualiseMmio</strong> và <strong>ProvideCustomSlide</strong> bạn vừa có thể bảo mật lại vừa có thể Boot, 1 combo hoàn hảo.</p><p>B1: Tạo 1 EFI Debug theo hướng dẫn <a href="https://heavietnam.ga/forum/topic/opencore-debugging/" target="_blank" rel="noopener noreferrer">tại đây</a> (nhớ enable <code>DevirtualiseMmio</code>).</p><ul><li>Đối với clover các bản cũng build tương tự (sử dụng bản clover debug) để dump được log file các bạn sẽ dùng hackintool –&gt; log</li></ul><p>B2: Bạn sẽ nhận được 1 file log mở nó ra và ta sẽ có:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>21:495 00:009 OCABC: MMIO devirt start
21:499 00:003 OCABC: MMIO devirt 0x60000000 (0x10000 pages, 0x8000000000000001) skip 021:503 00:003 OCABC: MMIO devirt 0xFE000000 (0x11 pages, 0x8000000000000001) skip 021:506 00:003 OCABC: MMIO devirt 0xFEC00000 (0x1 pages, 0x8000000000000001) skip 021:510 00:003 OCABC: MMIO devirt 0xFED00000 (0x1 pages, 0x8000000000000001) skip 021:513 00:003 OCABC: MMIO devirt 0xFEE00000 (0x1 pages, 0x800000000000100D) skip 021:516 00:003 OCABC: MMIO devirt 0xFF000000 (0x1000 pages, 0x800000000000100D) skip 0
21:520 00:003 OCABC: MMIO devirt end, saved 278608 KB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Bây giờ ta có 6 regions cần thêm vào danh sách trắng (in đậm).</p><p>Ta cần convert hex to decimal (có thể dùng Hackintool).</p><ul><li>MMIO devirt 0x60000000 -&gt; 1610612736</li><li>MMIO devirt 0xFE000000 -&gt; 4261412864</li><li>MMIO devirt 0xFEC00000 -&gt; 4273995776</li><li>MMIO devirt 0xFED00000 -&gt; 4275044352</li><li>MMIO devirt 0xFEE00000 -&gt; 4276092928</li><li>MMIO devirt 0xFF000000 -&gt; 4278190080</li></ul><p><img src="https://imgur.com/4a65sZl.png" alt=""></p><p>B3: Add vào config ==&gt; booter ==&gt; MmioWhitelist.</p><p><img src="https://dortania.github.io/OpenCore-Install-Guide/assets/img/mmio-white.0ee7b5c7.png" alt=""></p><p><strong>Source tham khảo: <a href="https://dortania.github.io/OpenCore-Install-Guide/extras/kaslr-fix.html" target="_blank" rel="noopener noreferrer">Fixing KASLR slide values | OpenCore Install Guide (dortania.github.io)</a></strong></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/guide/issue/2021-11-02-fix-stuck-log.html" class="" aria-label="Fix [EB|#LOG:EXITBS:START]"><!--[--><!--]--><!----><span>Fix [EB|#LOG:EXITBS:START]</span><!--[--><!--]--></a></span></p></nav><!--[--><!--]--><!----></main><!--]--></div><!----><div class="menu-btn-container"><div class="menu-btn-wrapper"><div class="menu-btn"><div style="" class="menu-btn-icon"><span></span><span></span><span></span></div><div style="display:none;" class="menu-text">0</div><svg class="menu-progress"><circle class="menu-border" cx="50%" cy="50%" r="48%" style="stroke-dasharray:0% 314.15926%;"></circle></svg></div><div class="menu-btn-child-wrapper"><div title="toggle color mode" class="menu-btn-child"><svg class="ov-icon" style="font-size:1.2em;display:none;" aria-hidden="true" width="19.2" height="19.2" viewbox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"/></svg><svg class="ov-icon" style="font-size:1.2em;display:none;" aria-hidden="true" width="19.2" height="19.2" viewbox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 00283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"/></svg><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-43.52 -43.52 599.04 599.04" fill="currentColor"><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg></div><div class="menu-btn-child"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div><div class="menu-btn-child"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-75.52 -43.52 599.04 599.04" fill="currentColor"><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div><!----><div class="toggle-sidebar-button menu-btn-child menu-btn-sidebar" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><svg class="ov-icon" style="font-size:1.2em;" aria-hidden="true" width="19.2" height="19.2" viewbox="-1.6 -1.6 19.2 19.2" fill="currentColor"><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div><!----></div><!--]--></div>
    <script type="module" src="/assets/app.60b0c704.js" defer></script>
  </body>
</html>
